# GitHub OAuth App Configuration
# ================================
# Create a GitHub OAuth App at https://github.com/settings/developers
# See README.md for detailed setup instructions

# Server-side only (keep secret!)
# These are used by API routes to exchange tokens with GitHub
GITHUB_APP_CLIENT_ID=Iv1.your_client_id_here
GITHUB_APP_CLIENT_SECRET=your_client_secret_here

# Client-side (public, exposed to browser)
# NEXT_PUBLIC_GITHUB_CLIENT_ID should match GITHUB_APP_CLIENT_ID
NEXT_PUBLIC_GITHUB_CLIENT_ID=Iv1.your_client_id_here

# OAuth Callback URL Configuration
# ================================
# This URL is used for the OAuth redirect_uri parameter.
# It MUST match one of the callback URLs registered in your GitHub OAuth App.
#
# For local development:
#   NEXT_PUBLIC_APP_URL=http://localhost:3000
#
# For production (codjiflo.vza.net):
#   NEXT_PUBLIC_APP_URL=https://codjiflo.vza.net
#
# For PR previews (pr-123.codjiflo.vza.net):
#   NEXT_PUBLIC_APP_URL=https://codjiflo.vza.net
#   (Use the main domain - cross-subdomain auth handles redirecting back to PR preview)
#
NEXT_PUBLIC_APP_URL=http://localhost:3000

# GitHub OAuth App Setup
# ======================
# 1. Go to https://github.com/settings/developers
# 2. Click "New OAuth App"
# 3. Fill in:
#    - Application name: CodjiFlo (or your choice)
#    - Homepage URL: https://codjiflo.vza.net
#    - Authorization callback URL: Add both:
#      - http://localhost:3000/auth/callback (for local dev)
#      - https://codjiflo.vza.net/auth/callback (for production + PR previews)
# 4. Copy Client ID to both GITHUB_APP_CLIENT_ID and NEXT_PUBLIC_GITHUB_CLIENT_ID
# 5. Generate and copy Client Secret to GITHUB_APP_CLIENT_SECRET
#
# PR Preview Authentication Flow:
# ==============================
# PR previews (pr-123.codjiflo.vza.net) use the main domain's callback URL.
# The flow is:
# 1. User clicks login on pr-123.codjiflo.vza.net
# 2. OAuth redirects to GitHub, then to codjiflo.vza.net/auth/callback
# 3. Callback stores token in cookie (shared across .vza.net subdomains)
# 4. User is redirected back to pr-123.codjiflo.vza.net/auth/landing
# 5. Landing page reads token from cookie and stores in local auth state
